"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[691],{1307:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5893);t.default=function(e){return(0,a.jsx)("div",r({className:"accordion mt-4",id:e.id+"Accordion"},{children:e.items.map((function(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",r({className:"accordion-item"},{children:[(0,a.jsx)("h2",r({className:"accordion-header",id:e.id},{children:(0,a.jsx)("button",r({className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#"+e.id+"Collapse","aria-expanded":"false","aria-controls":e.id+"Collapse"},{children:e.title}),void 0)}),void 0),(0,a.jsx)("div",r({id:e.id+"Collapse",className:"accordion-collapse collapse","aria-labelledby":e.id,"data-bs-parent":"#"+e.id+"Accordion"},{children:(0,a.jsx)("div",r({className:"accordion-body"},{children:e.render()}),void 0)}),void 0)]}),void 0)},void 0)}))}),void 0)}},3130:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var a=n(5893),i=n(6486);t.Checkbox=function(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",r({className:"form-check"},{children:[(0,a.jsx)("input",{className:"form-check-input utrecht-checkbox utrecht-checkbox--html-input",type:e.type,id:e.id,name:e.nameAttribute,defaultChecked:null!==e.data,defaultValue:"false"===e.defaultValue?"false":"true",required:!1!==e.required},void 0),(0,a.jsx)("label",r({className:"form-check-label",htmlFor:e.id},{children:i.upperFirst(e.nameLabel)}),void 0)]}),void 0)},void 0)}},1104:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.GenericInputComponent=void 0;var a=n(5893),i=n(6486);t.GenericInputComponent=function(e){var t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",r({className:"input-group"},{children:[(0,a.jsx)("label",r({htmlFor:e.id,className:"utrecht-form-label"},{children:i.upperFirst(null!==(t=e.nameOverride)&&void 0!==t?t:e.name)}),void 0),(0,a.jsx)("input",{className:"utrecht-textbox utrecht-textbox--html-input",name:e.name,id:e.id,defaultValue:null===e.data?void 0:e.data,type:e.type,required:e.required,minLength:null===e.minLength?void 0:e.minLength,maxLength:null===e.maxLength?void 0:e.maxLength},void 0)]}),void 0)},void 0)},t.GenericInputComponent.defaultProps={data:null,required:!1,minLength:null,maxLength:null}},5888:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectInputComponent=void 0;var a=n(5893),i=n(6486);n(4156);t.SelectInputComponent=function(e){var t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",r({className:"input-group"},{children:[(0,a.jsx)("label",r({className:"utrecht-form-label",htmlFor:e.id},{children:i.upperFirst(null!==(t=e.nameOverride)&&void 0!==t?t:e.name)}),void 0),(0,a.jsxs)("select",r({name:e.name,id:e.id,required:e.required,className:"utrecht-select utrecht-select--html-select"},{children:[!e.required&&(0,a.jsx)("option",{children:" "},void 0),e.options.map((function(t){return(0,a.jsx)("option",r({selected:null!==e.data&&e.data===t.value,value:t.value},{children:i.upperFirst(t.name)}),t.value)}))]}),void 0)]}),void 0)},void 0)},t.SelectInputComponent.defaultProps={required:!1}},9310:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Table=void 0;var a=n(5893);n(6883);t.Table=function(e){return(0,a.jsxs)("table",r({lang:"nl",summary:"Table.",className:"table"},{children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:e.columns.map((function(e,t){var n;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("th",{children:null!==(n=e.headerName)&&void 0!==n?n:e.field},t)},void 0)}))},void 0)},void 0),(0,a.jsx)("tbody",{children:e.rows.map((function(t,n){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("tr",{children:e.columns.map((function(e){return(0,a.jsx)(a.Fragment,{children:Object.keys(t).includes(e.field)&&!e.hidden&&(0,a.jsx)(a.Fragment,{children:e.renderCell?(0,a.jsx)("td",r({className:"align-middle"},{children:e.renderCell(t)}),void 0):(0,a.jsx)("td",r({className:"align-middle"},{children:e.valueFormatter?e.valueFormatter(t[e.field]):t[e.field]}),n)},void 0)},void 0)}))},void 0)},void 0)}))},void 0)]}),void 0)}},6838:function(e,t,n){n(7207);var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.WaardepapierenTable=void 0;var a=n(5893),i=n(9310);t.WaardepapierenTable=function(e){var t=[{field:"type",headerName:"Type",valueFormatter:function(e){var t=e.replaceAll("_"," ");return"".concat(t)}},{field:"dateCreated",headerName:"Aangemaakt op",valueFormatter:function(e){var t=new Date(e);return"".concat(t.toLocaleString("nl-nl",{year:"numeric",month:"numeric",day:"numeric"}))}},{field:"document",headerName:" ",renderCell:function(t){return(0,a.jsxs)("div",r({className:"float-right mr-4"},{children:[(0,a.jsx)("button",r({className:"utrecht-button mr-2",type:"button",onClick:function(){e.fileFunction(t.document,t.type,".pdf")}},{children:"PDF"}),void 0),(0,a.jsx)("button",r({className:"utrecht-button",type:"button",onClick:function(){e.fileFunction(t.image,t.type,".png")}},{children:"QR"}),void 0)]}),void 0)}}];return(0,a.jsx)(i.Table,{rows:e.rows,columns:t},void 0)}},6368:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(3130),t),a(n(9310),t),a(n(6838),t),a(n(1104),t),a(n(5888),t),a(n(1307),t),a(n(9002),t)},111:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(7294),a=n(3084),i=n(9002),l=n.n(i),o=n(6368);function c(e,t,n){var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("download",t+n),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}var d=n(9963),s=n(8037);function u(){var e=r.useState(null),t=e[0],n=e[1];r.useEffect((function(){"undefined"!=typeof window&&null===t?n({apiUrl:window.GATSBY_API_URL,frontendUrl:window.GATSBY_FRONTEND_URL}):(0,d.jl)()&&fetch(t.apiUrl+"/gateways/register/certificates?limit=5000&order[dateCreated]=desc",{credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){u(e["hydra:member"])}))}),[t]);var a=r.useState(null),i=a[0],u=a[1],m=[{name:"Akte van geboorte",value:"akte_van_geboorte"},{name:"Verklaring van in leven zijn",value:"verklaring_van_in_leven_zijn"},{name:"Uitreksel basis registratie personen",value:"uitreksel_basis_registratie_personen"}],p=function(e){e.preventDefault();var n=e.target.waardepapier.value,r=null;switch(n){case"akte_van_geboorte":case"verklaring_van_in_leven_zijn":r=1400;break;case"uitreksel_basis_registratie_personen":break;default:r=null}if(null!==r){var a={organization:"001516814",price:r,type:n,person:(0,d.PR)().id,name:(0,d.PR)().name,ingenicoUrl:t.frontendUrl+"/pay-certificate"};fetch(t.apiUrl+"/gateways/service/payments",{credentials:"include",method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"undefined"!=typeof window&&(window.sessionStorage.setItem("payment",JSON.stringify(e)),(0,s.c4)("/pay-certificate"))}))}};return r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(l(),{title:"Waardepapier",cardHeader:function(){return r.createElement("p",null)},cardBody:function(){return r.createElement(r.Fragment,null,r.createElement("form",{onSubmit:p,className:"mb-4"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-8"},r.createElement(o.SelectInputComponent,{required:!0,options:m,name:"waardepapier",nameOverride:"Type Waardepapier",id:"waardepapieren"})),r.createElement("div",{className:"col-4 d-flex mt-auto mb-1"},r.createElement("button",{className:"utrecht-button"},"Aanvragen")))),r.createElement("div",null,null!==i?r.createElement(o.WaardepapierenTable,{rows:i,fileFunction:c}):r.createElement(o.WaardepapierenTable,{rows:[],fileFunction:c})))}})))}var m=function(){r.useEffect((function(){"undefined"!=typeof window&&n({baseUrl:window.GATSBY_BASE_URL,frontendUrl:window.GATSBY_FRONTEND_URL})}),[]);var e=r.useState({baseUrl:"",frontendUrl:""}),t=e[0],n=e[1];return r.createElement(a.Z,null,r.createElement("main",null,r.createElement("title",null,"Waardepapieren"),r.createElement("div",{className:"text-center mt-4"},(0,d.jl)()?r.createElement(r.Fragment,null,r.createElement(u,null)):r.createElement(r.Fragment,null,r.createElement("h1",{className:"utrecht-heading-1 utrecht-heading-1--distanced"},"Welkom bij Waardepapieren"),r.createElement("h4",{className:"utrecht-heading-4 utrecht-heading-4--distanced"},"U dient ingelogd te zijn om door te gaan."),r.createElement("div",{className:"mt-4"},r.createElement("a",{className:"utrecht-link",href:t.baseUrl+"/digid/login?returnUrl="+t.frontendUrl+"/handleLogin"},r.createElement("button",{className:"utrecht-button"},"Inloggen")))))))}},4156:function(e,t,n){n.r(t)},6883:function(e,t,n){n.r(t)}}]);
//# sourceMappingURL=component---src-pages-index-tsx-4fa98ed970cda7ee8e5e.js.map