"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[821],{4219:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var a=n(7294),r=n(3084),l=(n(7207),n(9002)),c=n.n(l),i=n(9963),o=n(8037);function s(){var e=a.useState(null),t=e[0],n=e[1];a.useEffect((function(){"undefined"!=typeof window&&null===t?n({apiUrl:window.GATSBY_API_URL}):(0,i.jl)()&&"undefined"!=typeof window&&(0===window.location.search.length?s(JSON.parse(window.sessionStorage.getItem("payment"))):f())}),[t]);var r=a.useState(null),l=r[0],s=r[1],u=a.useState(null),d=u[0],m=u[1],f=function(){m(!0);var e=JSON.parse(window.sessionStorage.getItem("payment"));if("undefined"!=typeof window){var n=window.location.search,a=new URLSearchParams(n).get("orderID");e.orderId!==a&&(0,o.c4)("/"),fetch(t.apiUrl+"/gateways/service/payments/"+e.id+"/certificate"+n,{credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){(0,o.c4)("/")}))}},h=function(){console.log(l),"undefined"!=typeof window&&(window.sessionStorage.removeItem("payment"),(0,o.c4)("/"))};return a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement(c(),{title:"Betalen",cardHeader:function(){return a.createElement(a.Fragment,null,null===d&&a.createElement("button",{onClick:h,className:"utrecht-button"},"Terug"))},cardBody:function(){return a.createElement(a.Fragment,null,null!==d&&a.createElement(a.Fragment,null,a.createElement("div",{className:"text-center"},a.createElement("div",{className:"spinner-border",role:"status"},a.createElement("span",{className:"sr-only"},"Loading...")))),null!==l&&null===d&&a.createElement("form",{method:"POST",action:l.redirectUrl},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12 text-start"},a.createElement("h4",{className:"utrecht-heading-4 utrecht-heading-4--distanced"},a.createElement("strong",null,"Waardepapier:")," ",l.type.replaceAll("_"," "))),a.createElement("div",{className:"col-12 text-start"},a.createElement("h4",{className:"utrecht-heading-4 utrecht-heading-4--distanced"},a.createElement("strong",null,"Kost:")," â‚¬ ",l.price/100,",-")),a.createElement("div",{className:"col-12 text-start mt-4"},a.createElement("button",{className:"utrecht-button"},"Betalen"))),Object.entries(l.configuration).map((function(e){var t=e[0],n=e[1];return a.createElement("input",{key:t,type:"hidden",name:t,value:n})}))))}})))}var u=function(){a.useEffect((function(){"undefined"!=typeof window&&n({baseUrl:window.GATSBY_BASE_URL,frontendUrl:window.GATSBY_FRONTEND_URL})}),[]);var e=a.useState({baseUrl:"",frontendUrl:""}),t=e[0],n=e[1];return a.createElement(r.Z,null,a.createElement("main",null,a.createElement("title",null,"Waardepapieren"),a.createElement("div",{className:"text-center mt-4"},(0,i.jl)()?a.createElement(a.Fragment,null,a.createElement(s,null)):a.createElement(a.Fragment,null,a.createElement("h1",{className:"utrecht-heading-1 utrecht-heading-1--distanced"},"Welkom bij Waardepapieren"),a.createElement("h4",{className:"utrecht-heading-4 utrecht-heading-4--distanced"},"U dient ingelogd te zijn om door te gaan."),a.createElement("div",{className:"mt-4"},a.createElement("a",{className:"utrecht-link",href:t.baseUrl+"/digid/login?returnUrl="+t.frontendUrl+"/handleLogin"},a.createElement("button",{className:"utrecht-button"},"Inloggen")))))))}}}]);
//# sourceMappingURL=component---src-pages-pay-certificate-index-tsx-5e1c30cdacb30e114ed7.js.map